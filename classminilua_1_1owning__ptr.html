<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>minilua::owning_ptr class | MiniLua Value tracing lua interpreter</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="icon" href="favicon-dark.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <span id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">
        <a href="https://sp-uulm.github.io/MiniLua/">MiniLua</a> <span class="m-breadcrumb">|</span> <a href="index.html" class="m-thin">Value tracing lua interpreter</a>
      </span>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li>
              <a href="namespaces.html">Namespaces</a>
              <ol>
                <li><a href="namespaceminilua.html">minilua</a></li>
                <li><a href="namespacets.html">ts</a></li>
              </ol>
            </li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="https://github.com/sp-uulm/MiniLua/">GitHub</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <div class="m-doc-template">template&lt;typename T&gt;</div>
          <span class="m-breadcrumb"><a href="namespaceminilua.html">minilua</a>::<wbr/></span>owning_ptr <span class="m-thin">class</span>
        </h1>
        <p>Heap allocated owned value.</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#typeless-methods">Constructors, destructors, conversion operators</a></li>
                <li><a href="#pub-methods">Public functions</a></li>
                <li><a href="#friends">Friends</a></li>
              </ul>
            </li>
          </ul>
        </div>
<p>This is basically an implementation of <a href="https://doc.rust-lang.org/std/boxed/struct.Box.html">Rusts Box</a>. It behaves exactly like <code>T</code> but lives on the heap.</p><p>In other words this is a <code>std::unique_ptr</code> that also support copying but can&#x27;t contain a <code>nullptr</code>.</p><p>If this type is copied it will make a new heap allocation and copy the value.</p><p>The default constructor of this class will call the default constructor of <code>T</code> instead of using a nullptr (like <code>std::unique_ptr</code> does).</p><p>In case any of the copy/move/swap functions throw an exception you should expect the <a href="classminilua_1_1owning__ptr.html" class="m-doc">owning_<wbr />ptr</a> to be in an invalid state and to possibly contain a nullptr.</p><p><a href="classminilua_1_1owning__ptr.html" class="m-doc">owning_<wbr />ptr</a> is only default constructible, move/copy constructible/assignable and equality comparable if the type <code>T</code> is. These special member functions are always defined but can only be used if the type <code>T</code> also has them.</p><p>Supports equality comparsion if <code>T</code> does.</p>
        <section id="typeless-methods">
          <h2><a href="#typeless-methods">Constructors, destructors, conversion operators</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#aaf4f2196c5db84ed5da0ac79876f7a1e" class="m-doc">owning_ptr</a>(</span><span class="m-doc-wrap">)</span>
            </dt>
            <dd>Default constructor.</dd>
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#abe713b2a39ed659af28885ac61d60770" class="m-doc">owning_ptr</a>(</span><span class="m-doc-wrap">T* value) <span class="m-label m-flat m-info">explicit</span> </span>
            </dt>
            <dd>Creates an <a href="classminilua_1_1owning__ptr.html" class="m-doc">owning_<wbr />ptr</a> from the given pointer.</dd>
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#a6f641c7347ea365f00bd9706d3b106a2" class="m-doc">owning_ptr</a>(</span><span class="m-doc-wrap">const <a href="classminilua_1_1owning__ptr.html" class="m-doc">owning_<wbr />ptr</a>&lt;T&gt;&amp; other)</span>
            </dt>
            <dd>Copy constructor.</dd>
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#a2dc01f76008b64bc8b5de2d5a9b9f35b" class="m-doc">owning_ptr</a>(</span><span class="m-doc-wrap"><a href="classminilua_1_1owning__ptr.html" class="m-doc">owning_<wbr />ptr</a>&lt;T&gt;&amp;&amp; other)</span>
            </dt>
            <dd>Move constructor.</dd>
          </dl>
        </section>
        <section id="pub-methods">
          <h2><a href="#pub-methods">Public functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#af4391792fab12e6f164e990fb069cb27" class="m-doc">operator=</a>(</span><span class="m-doc-wrap">const <a href="classminilua_1_1owning__ptr.html" class="m-doc">owning_<wbr />ptr</a>&lt;T&gt;&amp; other) -&gt; owning_ptr&lt; T &gt; &amp; -&gt; auto</span>
            </dt>
            <dd>Copy assignment operator.</dd>
            <dt id="a5d34e0329e2c968ee6f985d6e2918206">
              <span class="m-doc-wrap-bumper">auto <a href="#a5d34e0329e2c968ee6f985d6e2918206" class="m-doc-self">operator=</a>(</span><span class="m-doc-wrap"><a href="classminilua_1_1owning__ptr.html" class="m-doc">owning_<wbr />ptr</a>&lt;T&gt;&amp;&amp; other) -&gt; owning_ptr&lt; T &gt; &amp; -&gt; auto</span>
            </dt>
            <dd>Move assignment operator.</dd>
            <dt id="a7e24caac28ff5bd0380281b53d444449">
              <span class="m-doc-wrap-bumper">auto <a href="#a7e24caac28ff5bd0380281b53d444449" class="m-doc-self">get</a>(</span><span class="m-doc-wrap">) const noexcept -&gt; typename std::unique_ptr&lt; T &gt;::pointer -&gt; auto</span>
            </dt>
            <dd>Pointer to the heap value.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a9ca69cd95f0b5a6fa54c54ec57ac3a70" class="m-doc">operator*</a>(</span><span class="m-doc-wrap">) const -&gt; T &amp; -&gt; auto</span>
            </dt>
            <dd>Derefernce to the owned type.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a0bf21f21ef44fa1f04b024f73958c387" class="m-doc">operator-&gt;</a>(</span><span class="m-doc-wrap">) const noexcept -&gt; typename std::unique_ptr&lt; T &gt;::pointer -&gt; auto</span>
            </dt>
            <dd>Derefernce to the owned type.</dd>
          </dl>
        </section>
        <section id="friends">
          <h2><a href="#friends">Friends</a></h2>
          <dl class="m-doc">
            <dt id="a12937c19684d61e2a10257f71531d3ce">
              <span class="m-doc-wrap-bumper">void <a href="#a12937c19684d61e2a10257f71531d3ce" class="m-doc-self">swap</a>(</span><span class="m-doc-wrap"><a href="classminilua_1_1owning__ptr.html" class="m-doc">owning_<wbr />ptr</a>&lt;T&gt;&amp; lhs,
              <a href="classminilua_1_1owning__ptr.html" class="m-doc">owning_<wbr />ptr</a>&lt;T&gt;&amp; rhs)</span>
            </dt>
            <dd>Swap function.</dd>
            <dt id="a35bde34e952c1b9ae1668d7c9679d002">
              <span class="m-doc-wrap-bumper">auto <a href="#a35bde34e952c1b9ae1668d7c9679d002" class="m-doc-self">operator==</a>(</span><span class="m-doc-wrap">const <a href="classminilua_1_1owning__ptr.html" class="m-doc">owning_<wbr />ptr</a>&lt;T&gt;&amp; lhs,
              const <a href="classminilua_1_1owning__ptr.html" class="m-doc">owning_<wbr />ptr</a>&lt;T&gt;&amp; rhs) -&gt; bool -&gt; auto</span>
            </dt>
            <dd>Equality comparison.</dd>
            <dt id="a6e7361c21d3d857265febb1fe889f66b">
              <span class="m-doc-wrap-bumper">auto <a href="#a6e7361c21d3d857265febb1fe889f66b" class="m-doc-self">operator!=</a>(</span><span class="m-doc-wrap">const <a href="classminilua_1_1owning__ptr.html" class="m-doc">owning_<wbr />ptr</a>&lt;T&gt;&amp; lhs,
              const <a href="classminilua_1_1owning__ptr.html" class="m-doc">owning_<wbr />ptr</a>&lt;T&gt;&amp; rhs) -&gt; bool -&gt; auto</span>
            </dt>
            <dd>Unequality comparison.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a3ebed0eb6f1843168180fd602d6f07d4" class="m-doc">operator&lt;&lt;</a>(</span><span class="m-doc-wrap">std::ostream&amp; os,
              const <a href="classminilua_1_1owning__ptr.html" class="m-doc">owning_<wbr />ptr</a>&lt;T&gt;&amp; self) -&gt; std::ostream &amp; -&gt; auto</span>
            </dt>
            <dd>Print operator.</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="aaf4f2196c5db84ed5da0ac79876f7a1e"><div>
            <h3>
              <div class="m-doc-template">
                template&lt;typename T&gt;
              </div>
              <span class="m-doc-wrap-bumper"> minilua::<wbr />owning_ptr&lt;T&gt;::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#aaf4f2196c5db84ed5da0ac79876f7a1e" class="m-doc-self">owning_ptr</a>(</span><span class="m-doc-wrap">)</span></span>
            </h3>
            <p>Default constructor.</p>
<p>Only available if <code>T</code> is default constructible.</p>
          </div></section>
          <section class="m-doc-details" id="abe713b2a39ed659af28885ac61d60770"><div>
            <h3>
              <div class="m-doc-template">
                template&lt;typename T&gt;
              </div>
              <span class="m-doc-wrap-bumper"> minilua::<wbr />owning_ptr&lt;T&gt;::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#abe713b2a39ed659af28885ac61d60770" class="m-doc-self">owning_ptr</a>(</span><span class="m-doc-wrap">T* value) <span class="m-label m-info">explicit</span> </span></span>
            </h3>
            <p>Creates an <a href="classminilua_1_1owning__ptr.html" class="m-doc">owning_<wbr />ptr</a> from the given pointer.</p>
<aside class="m-note m-danger"><h4>Warning</h4><p>This will take ownership of the heap location at the pointer. You should not manually free the pointer after calling this constructor.</p></aside><p>Will throw <code>std::invalid_argument</code> exception if the value is <code>nullptr</code>.</p>
          </div></section>
          <section class="m-doc-details" id="a6f641c7347ea365f00bd9706d3b106a2"><div>
            <h3>
              <div class="m-doc-template">
                template&lt;typename T&gt;
              </div>
              <span class="m-doc-wrap-bumper"> minilua::<wbr />owning_ptr&lt;T&gt;::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a6f641c7347ea365f00bd9706d3b106a2" class="m-doc-self">owning_ptr</a>(</span><span class="m-doc-wrap">const <a href="classminilua_1_1owning__ptr.html" class="m-doc">owning_<wbr />ptr</a>&lt;T&gt;&amp; other)</span></span>
            </h3>
            <p>Copy constructor.</p>
<p>This will make a new heap allocation.</p>
          </div></section>
          <section class="m-doc-details" id="a2dc01f76008b64bc8b5de2d5a9b9f35b"><div>
            <h3>
              <div class="m-doc-template">
                template&lt;typename T&gt;
              </div>
              <span class="m-doc-wrap-bumper"> minilua::<wbr />owning_ptr&lt;T&gt;::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a2dc01f76008b64bc8b5de2d5a9b9f35b" class="m-doc-self">owning_ptr</a>(</span><span class="m-doc-wrap"><a href="classminilua_1_1owning__ptr.html" class="m-doc">owning_<wbr />ptr</a>&lt;T&gt;&amp;&amp; other)</span></span>
            </h3>
            <p>Move constructor.</p>
<p>This will make a new heap allocation and move the old value instead of just moving the pointer. This is done so if you keep any pointers to the old value around they will still point to the (now modified) old value.</p><aside class="m-note m-info"><h4>Note</h4><p>This can&#x27;t be <code>noexcept</code> because it leads to errors when using the constructor on some compilers.</p></aside>
          </div></section>
          <section class="m-doc-details" id="af4391792fab12e6f164e990fb069cb27"><div>
            <h3>
              <div class="m-doc-template">
                template&lt;typename T&gt;
              </div>
              <span class="m-doc-wrap-bumper">auto minilua::<wbr />owning_ptr&lt;T&gt;::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#af4391792fab12e6f164e990fb069cb27" class="m-doc-self">operator=</a>(</span><span class="m-doc-wrap">const <a href="classminilua_1_1owning__ptr.html" class="m-doc">owning_<wbr />ptr</a>&lt;T&gt;&amp; other) -&gt; owning_ptr&lt; T &gt; &amp;</span></span>
            </h3>
            <p>Copy assignment operator.</p>
<p>This will make a new heap allocation.</p>
          </div></section>
          <section class="m-doc-details" id="a9ca69cd95f0b5a6fa54c54ec57ac3a70"><div>
            <h3>
              <div class="m-doc-template">
                template&lt;typename T&gt;
              </div>
              <span class="m-doc-wrap-bumper">auto minilua::<wbr />owning_ptr&lt;T&gt;::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a9ca69cd95f0b5a6fa54c54ec57ac3a70" class="m-doc-self">operator*</a>(</span><span class="m-doc-wrap">) const -&gt; T &amp;</span></span>
            </h3>
            <p>Derefernce to the owned type.</p>
<p>Returns a reference to the owned type.</p>
          </div></section>
          <section class="m-doc-details" id="a0bf21f21ef44fa1f04b024f73958c387"><div>
            <h3>
              <div class="m-doc-template">
                template&lt;typename T&gt;
              </div>
              <span class="m-doc-wrap-bumper">auto minilua::<wbr />owning_ptr&lt;T&gt;::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a0bf21f21ef44fa1f04b024f73958c387" class="m-doc-self">operator-&gt;</a>(</span><span class="m-doc-wrap">) const noexcept -&gt; typename std::unique_ptr&lt; T &gt;::pointer</span></span>
            </h3>
            <p>Derefernce to the owned type.</p>
<p>Returns a pointer to the owned type.</p>
          </div></section>
          <section class="m-doc-details" id="a3ebed0eb6f1843168180fd602d6f07d4"><div>
            <h3>
              <div class="m-doc-template">
                template&lt;typename T&gt;
              </div>
              <span class="m-doc-wrap-bumper">auto </span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a3ebed0eb6f1843168180fd602d6f07d4" class="m-doc-self">operator&lt;&lt;</a>(</span><span class="m-doc-wrap">std::ostream&amp; os,
              const <a href="classminilua_1_1owning__ptr.html" class="m-doc">owning_<wbr />ptr</a>&lt;T&gt;&amp; self) -&gt; std::ostream &amp;</span></span>
            </h3>
            <p>Print operator.</p>
<p>Can always be printed. If <code>T</code> is not printable this will print the pointer value (as a <code>void*</code>).</p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>MiniLua Value tracing lua interpreter. Created with <a href="https://doxygen.org/">Doxygen</a> 1.8.17 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
